{{yield}}
{{#if this.error}}
    <BsAlert
      @visible={{true}}
      @fade={{true}}
      @type="danger"
      @dismissible={{false}}
    >{{this.error}}</BsAlert>
{{/if}}

<BsForm @formLayout="vertical" @model={{this}} @onSubmit={{action "login"}} as |form|>
  <form.element @controlType="text" @label="Email/Username" @property="username" as |el|>
    <el.control placeholder="Email/Username" required />
    <form.element @controlType="password" @label="Password" @property="password" as |el|>
      <el.control placeholder="Password" required />
    </form.element>
    <form.submitButton>Login</form.submitButton>
  </form.element>
</BsForm>

{{#if this.captcha_needed}}
    {{g-recaptcha-v2 siteKey='6Le0TzsbAAAAAO8s3f1kH9bu-aU1pedZYM8GK4ah' verified=(action 'setcaptcha')}}
{{/if}}
